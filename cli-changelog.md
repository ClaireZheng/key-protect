---

copyright:
  years: 2017, 2020
lastupdated: "2020-05-11"

keywords: Key Protect CLI plug-in, CLI changelog

subcollection: key-protect

---

{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:external: target="_blank" .external}
{:codeblock: .codeblock}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:term: .term}

# CLI changelog
{: #cli-changelog}

Learn about updates to the {{site.data.keyword.keymanagementserviceshort}} CLI
plug-in.
{:shortdesc}

To update your {{site.data.keyword.keymanagementserviceshort}} CLI plug-in, see
[Updating the CLI plug-in](/docs/key-protect?topic=key-protect-set-up-cli#update-cli).

When you log in to the
[{{site.data.keyword.cloud_notm}} CLI](/docs/cli?topic=cloud-cli-getting-started){: external},
you're notified when updates are available.

Be sure to keep your CLI up-to-date so that you can use the commands and flags
that are available for the {{site.data.keyword.keymanagementserviceshort}} CLI
plug-in.
{: tip}

## CLI version 0.4.0
{: cli-changelog-040}

<dl>
  <dt>
    <varname>Release date</varname>
  </dt>
  <dd>
    1 May 2020
  </dd>

  <dt>
    <varname>Documentation</varname>
  </dt>
  <dd>
    [CLI reference for 0.4.0](/docs/key-protect?topic=key-protect-cli-reference)
  </dd>
</dl>

Major changes were made to the `ibmcloud kp` command structure.

**Add these commands**

* `kp key` - perform operations on keys
* `kp keys` - list the keys that are available in your service instance
* `kp region-set` - target a different {{site.data.keyword.keymanagementserviceshort}} regional endpoint

**Update this command**

* `kp import-token` - prepare your root key for secure import

    | Command         | Subcommand    | Status    | Description |
    |-----------------|---------------|---------- | ----------- |
    | kp import-token | create        | Add       | Create an import token |
    |                 | encrypt-key   | Deprecate | Use `kp import-token key-encrypt` |
    |                 | encrypt-nonce | Deprecate | Use `kp import-token nonce-encrypt` |
    |                 | get           | Deprecate | Use `kp import-token show` |
    |                 | key-encrypt   | Add       | Encrypt the key that you want to import to the service |
    |                 | nonce-encrypt | Add       | Encrypt the nonce that is generated by {{site.data.keyword.keymanagementserviceshort}} |
    |                 | show          | Add       | Retrieve an import token |

**Deprecate these commands**

* `kp create` - use `kp import-token create` or `kp key create`
* `kp delete` - use `kp key delete`
* `kp get` - use `kp key show`
* `kp list` - use `kp keys`
* `kp policy` - use `kp key policies` or `kp key policy-update`
* `kp rotate` - use `kp key rotate`
* `kp unwrap` - use `kp key unwrap`
* `kp wrap` - use `kp key wrap`

### Deprecated commands
{: cli-changelog-deprecated}

All deprecated commands work in version 0.4.0. That is, version 0.4.0 is
backwards compatible with version 0.3.9. For example, you can issue the
`kp create` command even though it's deprecated in version 0.4.0.

The intent is to remove support for deprecated commands in the next CLI version,
which is anticipated the end of September, 2020.
{: important}

## CLI version 0.3.9
{: cli-changelog-039}

<dl>
  <dt>
    <varname>Release date</varname>
  </dt>
  <dd>
    11 November 2019
  </dd>

  <dt>
    <varname>Documentation</varname>
  </dt>
  <dd>
    [CLI reference for 0.3.9](/docs/key-protect?topic=key-protect-cli-reference-039)
  </dd>
</dl>

**Updates**

* Update usage information for all `ibmcloud kp` commands and subcommands
* Fix bug in the JSON output format option (`--output json`) for all commands
